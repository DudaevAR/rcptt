<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>

	<artifactId>server</artifactId>
	<packaging>pom</packaging>

	<properties>
		<q7Server>http://192.168.2.64:8090</q7Server>
		<clientId>komaz</clientId>
		<clientSecret>05fe7461c607c33229772d402505601016a7d0ea</clientSecret>
		<organization>xored</organization>
	</properties>

	<parent>
		<groupId>org.eclipse.rcptt.tests</groupId>
		<artifactId>base</artifactId>
		<version>1.5.0-SNAPSHOT</version>
		<relativePath>./pom-base.xml</relativePath>
	</parent>

	<modules>
		<module>contexts/pom-server.xml</module>
		<module>platform_tests/pom-server.xml</module>
		<!--module>ECL_IDE_module/pom-server.xml</module-->
	</modules>

	<!--dependencies> <dependency> <groupId>com.xored.q7</groupId> <artifactId>com.xored.q7.pro</artifactId> 
		<version>1.1.0-SNAPSHOT</version> </dependency> </dependencies -->

	<build>
		<plugins>
			<plugin>
				<groupId>${q7-maven-group}</groupId>
				<artifactId>q7-server-maven-plugin</artifactId>
				<version>${q7-maven-version}</version>
				<extensions>true</extensions>
				<configuration>
					<classifiers>
						<classifier>win32.win32.x86</classifier>
						<!-- <classifier>linux.gtk.x86</classifier> -->
					</classifiers>
					<aut>
						<uri>http://maven.xored.com/nexus/content/repositories/thirdparty/eclipse/sdk/3.7.0/sdk-3.7.0-[classifier].[ext]</uri>
						<ignoreOtherInjections>true</ignoreOtherInjections>
						<injections>
							<injection>
								<site>http://download.xored.com/mirrors/q7mirror/</site>
								<features>
									<feature>org.eclipse.emf.transaction.feature.group</feature>
									<feature>org.eclipse.emf.validation.feature.group</feature>
									<feature>org.eclipse.emf.ecore.feature.group</feature>
									<feature>org.eclipse.emf.common.feature.group</feature>
									<feature>org.eclipse.emf.workspace.feature.group</feature>
									<feature>org.eclipse.emf.edit.ui.feature.group</feature>
									<feature>org.eclipse.emf.edit.feature.group</feature>
									<feature>org.eclipse.emf.databinding.feature.group</feature>
									<feature>org.eclipse.emf.common.ui.feature.group</feature>
								</features>
							</injection>
							<injection>
								<site>${q7URL}/artifact/shared/repository</site>
								<features>
									<feature>com.google.libs.feature.group</feature>

									<feature>com.xored.tesla.ecl.feature.group</feature>
									<feature>org.eclipse.ecl.core.feature.group</feature>
									<feature>org.eclipse.ecl.ide.feature.group</feature>
									<feature>com.xored.q7.runner.feature.group</feature>
									<feature>com.xored.watson.feature.group</feature>
									<feature>com.xored.q7.platform.feature.group</feature>
									<feature>org.eclipse.ecl.server.feature.group</feature>

									<feature>com.xored.tesla.feature.group</feature>
									<feature>com.xored.q7.updates.feature.group</feature>

									<feature>com.google.libs.feature.group</feature>
								</features>
							</injection>
							<injection>
								<site>${rcpttRuntimeRepository}</site>
							</injection>

						</injections>
					</aut>
					<q7server>${q7Server}</q7server>
					<q7client>
						<version>${q7-cloud-version}</version>
                        <clientId>${clientId}</clientId>
                        <clientSecret>${clientSecret}</clientSecret>
                        <organization>${organization}</organization>
					</q7client>
					<testOptions>
						<execTimeout>7200</execTimeout>
						<autStartupTimeout>300</autStartupTimeout>
						<launchingKillAutOnConnectError>true</launchingKillAutOnConnectError>
					</testOptions>

					<skipTags>
						<skipTag>selfAUT</skipTag>
						<skipTag>skipExecution</skipTag>
					</skipTags>
				</configuration>
			</plugin>
		</plugins>
	</build>

	<pluginRepositories>
		<pluginRepository>
			<snapshots>
				<updatePolicy>always</updatePolicy>
			</snapshots>
			<id>xored</id>
			<name>Xored Maven repository</name>
			<url>http://maven.xored.com/nexus/content/repositories/q7-snapshots/</url>
		</pluginRepository>
		<pluginRepository>
			<id>xored-releases</id>
			<name>Xored Maven repository</name>
			<url>http://maven.xored.com/nexus/content/repositories/q7-releases/</url>
		</pluginRepository>
	</pluginRepositories>

	<repositories>
		<repository>
			<id>xored</id>
			<name>Xored Maven repository</name>
			<url>http://maven.xored.com/nexus/content/repositories/releases/</url>
		</repository>
		<repository>
			<id>thirdparty</id>
			<name>Maven repo with eclipses</name>
			<url>http://maven.xored.com/nexus/content/repositories/thirdparty/</url>
		</repository>

	</repositories>
</project>
